{
  "info": {
    "name": "Stock Favorites API",
    "description": "API collection for managing user stock favorites",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string",
      "description": "Your authentication token"
    }
  ],
  "item": [
    {
      "name": "Get All Favorites",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/favorites",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites"]
        },
        "description": "Retrieve all favorite stocks for the authenticated user"
      },
      "response": [
        {
          "name": "Success Response",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"favorites\": [\n    {\n      \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"userId\": \"987f6543-e21b-12d3-a456-426614174000\",\n      \"symbol\": \"VCB\",\n      \"notes\": \"Ngân hàng tốt, theo dõi dài hạn\",\n      \"addedAt\": \"2024-01-15T10:30:00Z\",\n      \"updatedAt\": \"2024-01-15T10:30:00Z\",\n      \"stock\": {\n        \"symbol\": \"VCB\",\n        \"name\": \"Ngân hàng TMCP Ngoại thương Việt Nam\",\n        \"exchange\": \"HOSE\",\n        \"currentPrice\": 89500\n      }\n    }\n  ]\n}"
        }
      ]
    },
    {
      "name": "Add Single Favorite",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"symbol\": \"VCB\",\n  \"notes\": \"Ngân hàng tốt, theo dõi dài hạn\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/favorites",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites"]
        },
        "description": "Add a single stock to favorites"
      },
      "response": [
        {
          "name": "Created Successfully",
          "status": "Created",
          "code": 201,
          "body": "{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n  \"userId\": \"987f6543-e21b-12d3-a456-426614174000\",\n  \"symbol\": \"VCB\",\n  \"notes\": \"Ngân hàng tốt, theo dõi dài hạn\",\n  \"addedAt\": \"2024-01-15T10:30:00Z\",\n  \"updatedAt\": \"2024-01-15T10:30:00Z\"\n}"
        },
        {
          "name": "Already Exists",
          "status": "Conflict",
          "code": 409,
          "body": "{\n  \"error\": \"Symbol already in favorites\",\n  \"code\": \"DUPLICATE_FAVORITE\"\n}"
        }
      ]
    },
    {
      "name": "Add Multiple Favorites",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"symbols\": [\"VCB\", \"VHM\", \"VIC\", \"MSN\", \"HPG\"]\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/favorites/batch",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "batch"]
        },
        "description": "Add multiple stocks to favorites at once"
      },
      "response": [
        {
          "name": "Batch Success",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"added\": [\"VCB\", \"VHM\", \"VIC\"],\n  \"skipped\": [\"MSN\", \"HPG\"],\n  \"failed\": []\n}"
        }
      ]
    },
    {
      "name": "Update Favorite Notes",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"notes\": \"Updated notes - Q4 earnings coming up\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/favorites/VCB",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "VCB"]
        },
        "description": "Update notes for a favorite stock"
      },
      "response": [
        {
          "name": "Update Success",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n  \"userId\": \"987f6543-e21b-12d3-a456-426614174000\",\n  \"symbol\": \"VCB\",\n  \"notes\": \"Updated notes - Q4 earnings coming up\",\n  \"addedAt\": \"2024-01-15T10:30:00Z\",\n  \"updatedAt\": \"2024-01-16T14:20:00Z\"\n}"
        }
      ]
    },
    {
      "name": "Check Favorite Status",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/favorites/check/VCB",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "check", "VCB"]
        },
        "description": "Check if a stock is in favorites"
      },
      "response": [
        {
          "name": "Is Favorite",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"isFavorite\": true,\n  \"favorite\": {\n    \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"symbol\": \"VCB\",\n    \"notes\": \"Ngân hàng tốt\",\n    \"addedAt\": \"2024-01-15T10:30:00Z\"\n  }\n}"
        },
        {
          "name": "Not Favorite",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"isFavorite\": false,\n  \"favorite\": null\n}"
        }
      ]
    },
    {
      "name": "Remove Single Favorite",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/favorites/VCB",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "VCB"]
        },
        "description": "Remove a single stock from favorites"
      },
      "response": [
        {
          "name": "Remove Success",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"message\": \"Stock removed from favorites\"\n}"
        },
        {
          "name": "Not Found",
          "status": "Not Found",
          "code": 404,
          "body": "{\n  \"error\": \"Symbol not in favorites\",\n  \"code\": \"NOT_FOUND\"\n}"
        }
      ]
    },
    {
      "name": "Remove Multiple Favorites",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"symbols\": [\"VCB\", \"VHM\", \"VIC\"]\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/favorites/batch",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "batch"]
        },
        "description": "Remove multiple stocks from favorites"
      },
      "response": [
        {
          "name": "Batch Remove Success",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"removed\": [\"VCB\", \"VHM\", \"VIC\"],\n  \"notFound\": []\n}"
        }
      ]
    },
    {
      "name": "Clear All Favorites",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/favorites/all",
          "host": ["{{baseUrl}}"],
          "path": ["api", "favorites", "all"]
        },
        "description": "Remove all stocks from favorites (use with caution)"
      },
      "response": [
        {
          "name": "Clear Success",
          "status": "OK",
          "code": 200,
          "body": "{\n  \"message\": \"All favorites cleared\",\n  \"count\": 5\n}"
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Add any pre-request scripts here",
          "// For example, auto-refresh token if needed"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Add any test scripts here",
          "// For example, validate response schema"
        ]
      }
    }
  ]
}